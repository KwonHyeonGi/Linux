# 하드코딩 탈출을 위한 변수 적용

## 변수와 출력.
-variables.tf : 변수 값들을 모아 둘 파일
-outputs.tf : 출력파일

### variables.tf 파일
- 변수설정을 위한 파일 생성
- `nano variables.tf` (단, main.tf 즉 리소스파일과 같은 폴더에 있어야함)
- ```
    # 1. 리전 변수 (기본값: 오사카)
        variable "aws_region" {
          description = "AWS 리전"
          type        = string
          default     = "ap-northeast-3"
        }
        
        # 2. 인스턴스 타입 변수 (기본값: t3.micro)
        variable "instance_type" {
          description = "EC2 인스턴스 타입"
          type        = string
          default     = "t3.micro"
        }
        
        # 3. 키 페어 이름 변수 (사용자님 키 이름)
        variable "key_name" {
          description = "EC2에 사용할 키 페어 이름"
          type        = string
          default     = "my-vpc-key"  # ★ 여기에 아까 확인한 키 이름을 넣으세요!
        }
  ```
- 생성 후 main.tf 수정
- 리전 부분 수정
- <img width="566" height="105" alt="Image" src="https://github.com/user-attachments/assets/b859ddb0-a464-47c0-b0d1-972056580831" />
- 인스턴스 타입, 키페어 부분 수정
- <img width="638" height="245" alt="Image" src="https://github.com/user-attachments/assets/addb8093-a8e9-41d9-a043-6e09ba003b94" />

### outputs.tf 파일
- 실행 후, 웹 서버와 공식 IP주소를 띄어줄 출력 파일 생성
- outputs.tf
- ```
    # 웹 서버의 퍼블릭 IP 주소 출력
    output "web_server_public_ip" {
      description = "생성된 웹 서버의 Public IP"
      value       = aws_instance.web_server.public_ip
    }
    
    # 접속 편하게 하라고 URL 형태로 보여주기
    output "web_server_url" {
      description = "웹 서버 접속 URL"
      value       = "http://${aws_instance.web_server.public_ip}"
    }
  ```

### 실행 테스트
- `terraform init`
- `terraform apply`
- <img width="536" height="124" alt="Image" src="https://github.com/user-attachments/assets/056f690a-5c8c-4f42-b322-bdd9b7040ed6" />
- 화면에 나온 URL 접속 후 여부 확
- <img width="550" height="231" alt="Image" src="https://github.com/user-attachments/assets/8e75cdde-270c-46f6-b80c-bfdc4dc9f1f0" />
