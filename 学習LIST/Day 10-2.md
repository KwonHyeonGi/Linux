# ğŸ“lacê¸°ì´ˆ (Terraform) ì‹¤ìŠµ

## íë¦„
> Terraform í™˜ê²½ì„¤ì •
> VPC ì½”ë“œ ì‘ì„± ë° ë°°í¬
> Terraform ì‹¤í–‰ ë° ê²€ì¦

### Terraform í™˜ê²½ì„¤ì •
- unzip ì„¤ì¹˜ : Terraform ì„¤ì¹˜ë¥¼ ìœ„í•œ ìœ í‹¸ë¦¬í‹°
- `sudo apt install unzip -y`
- ```
  wget https://releases.hashicorp.com/terraform/1.7.0/terraform_1.7.0_linux_amd64.zip
  unzip terraform_1.7.0_linux_amd64.zip
  sudo mv terraform /usr/local/bin/
  terraform -v
  ```
- Terraform ì„¤ì¹˜ ë°, terraformì˜ ëª…ë ¹ì–´ë¥¼ ì–´ë””ì„œë“  ì‚¬ìš©ê°€ëŠ¥í•˜ê²Œ bin í´ë”ë¡œ ì´ë™, terrafrom ë²„ì „ í™•ì¸
- AWS ìê²© ì¦ëª… ì„¤ì •(IAM) : Terrafromì„ ì´ìš©í•´ AWS ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” IAM ì‚¬ìš©ì ACCESS KEYê°€ í•„ìˆ˜.
- ì—‘ì„¸ìŠ¤í‚¤ : command line interface, ê¶Œí•œ ì„¤ì • : AdministratorAccess í™•ì¸
- `aws configure`
- <img width="674" height="96" alt="Image" src="https://github.com/user-attachments/assets/9352f1bb-4f2a-47f7-99c3-e5b665033a6b" />

* * *

### VPC ì½”ë“œ ì‘ì„± ë° ë°°í¬
- `mkdir terraform_vpc && cd terraform_vpc` : terraform_vpc í´ë” ìƒì„±í›„ ì´ë™
- `nano main.tf` : AWS í”„ë¡œë°”ì´ë”ì™€ VPCë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•  í”„ë¡œì„¸ìŠ¤ ìƒì„±
- ```
    main.tf
    # 1. Terraform ì„¤ì • ë¸”ë¡: ì‚¬ìš©í•  í”„ë¡œë°”ì´ë”ì™€ ë²„ì „ ì •ì˜
      terraform {
        required_providers {
          aws = {
            # AWS í”„ë¡œë°”ì´ë”ë¥¼ ì‚¬ìš©í•˜ê² ë‹¤ê³  ì„ ì–¸
            source  = "hashicorp/aws"
            # AWS í”„ë¡œë°”ì´ë”ì˜ ë²„ì „ ì§€ì •
            version = "~> 5.0" 
          }
        }
      }
      
      # 2. í”„ë¡œë°”ì´ë” ì„¤ì •: AWSì— ì–´ë–¤ ë¦¬ì „(Region)ì„ ì‚¬ìš©í• ì§€ ì •ì˜
      provider "aws" {
        # ë„ì¿„ ë¦¬ì „(ap-northeast-1) ëŒ€ì‹ , ì£¼ì¸ë‹˜ê»˜ì„œ ì‚¬ìš©í•˜ì‹  ì˜¤ì‚¬ì¹´ ë¦¬ì „(ap-northeast-3)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
        region = "ap-northeast-3" 
      }
      
      # 3. VPC ë¦¬ì†ŒìŠ¤ ì •ì˜: VPC ìƒì„±
      resource "aws_vpc" "practice_vpc" {
        # VPCì˜ IP ì£¼ì†Œ ë²”ìœ„ (CIDR)ë¥¼ ì§€ì •
        cidr_block       = "10.1.0.0/16" 
        # DNS í˜¸ìŠ¤íŠ¸ ì´ë¦„ ì§€ì› í™œì„±í™”
        enable_dns_hostnames = true
        
        # AWS ì½˜ì†”ì— í‘œì‹œë  íƒœê·¸ (ì´ë¦„) ì •ì˜
        tags = {
          Name = "Practice-VPC-Terraform"
        }
      }
      
      # 4. Public Subnet ë¦¬ì†ŒìŠ¤ ì •ì˜: Public Subnet ìƒì„±
      resource "aws_subnet" "public_subnet" {
        # ì´ Subnetì„ ì—°ê²°í•  VPC ì§€ì •
        vpc_id     = aws_vpc.practice_vpc.id
        # Subnetì˜ CIDR ë¸”ë¡ ì§€ì • (VPC ë²”ìœ„ ë‚´ì—ì„œ ìª¼ê°œì–´ ì‚¬ìš©)
        cidr_block = "10.1.1.0/24"
        # Public Subnetì´ë¯€ë¡œ ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘ ì‹œ Public IPë¥¼ ìë™ í• ë‹¹
        map_public_ip_on_launch = true
        
        tags = {
          Name = "Public-Subnet-A-Terraform"
        }
      }
  ```

### Terraform ì‹¤í–‰ ë° ê²€ì¦
- `terraform init` : Terraformì´ í•„ìš”í•œ í”ŒëŸ¬ê·¸ì¸ ë‹¤ìš´ë¡œë“œ | initì„ í†µí•´ì„œ tfíŒŒì¼ì„ ì½ê³  êµ¬ì„±ìš”ì†Œë¥¼ ë‹¤ìš´ë¡œë“œ í•¨.
- <img width="963" height="450" alt="Image" src="https://github.com/user-attachments/assets/c7f02c29-03ef-4bd8-a783-885459e4ca73" />
- `terraform plan` : ì‹¤ì œ AWSí™˜ê²½ì— ì ‘ì†í•˜ì—¬, ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ë¬´ì—‡ì´ ë³€í• ì§€ ë¯¸ë¦¬ í™•ì¸
- <img width="1068" height="132" alt="Image" src="https://github.com/user-attachments/assets/0eefd9dd-6671-4d2b-8519-8c7921be1df8" />
- `terraform apply --auto-approve` : VPCì™€ Subnetì„ AWSì½”ë“œì— ë°°í¬.
- <img width="801" height="174" alt="Image" src="https://github.com/user-attachments/assets/06e51b39-9ca2-4e6e-8686-09f611aa2e42" />
- <img width="1156" height="216" alt="Image" src="https://github.com/user-attachments/assets/67b5c04a-b4f4-40a4-a02b-29a0122d98b9" />
- <img width="824" height="228" alt="Image" src="https://github.com/user-attachments/assets/d007af1a-7a79-459e-869a-996ddc525de8" />

